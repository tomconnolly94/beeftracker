include ../template_helper_functions/file_server_url_builder.jade
include ../template_helper_functions/date_formatter.jade

mixin vertical-beefs(data, data_type, image_resize_params)
    div.vertical-list(class!=attributes.class)
        div.col-md-12
            each item in data
                - var formatted_date = format_date(item.event_date);
                
                div.vertical-list-item.beef-category-default
                    div.vertical-list-item-thumbnail
                        //div.header-panel
                            span.category-name Music
                        a(href="/beef/#{item.beef_chain_ids[0]}/#{item._id}")
                            img(src=file_server_url_builder(file_server_url_prefix, data_type, item.cover_image, image_resize_params))
                    div.vertical-list-item-details
                        h3
                            a(href="/#{item.type}/#{item._id}") #{item.title}
                        ul.beef-info
                            li #{formatted_date}
                            //-li
                                span.fas.fa-comments &nbsp;&nbsp;
                                //-| #{item.comments.length}
                            li
                                span.beefometer.small.two-beefs
                        p.
                            #{item.description.slice(0, 200).trim()}...