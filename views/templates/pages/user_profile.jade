extends ../layouts/layout.jade
include ../components/trending_beef/trending_beef.jade
include ../components/timeline/timeline.jade
include ../components/related_actors/related_actors.jade
include ../layouts/masonry_gallery.jade

append body_scripts
    //-+masonry-gallery-script()

append body

    - if(user_data.d_o_b instanceof Date){}
    - else{
    -   user_data.d_o_b = new Date(user_data.d_o_b);
    - }

    - var day = user_data.d_o_b.getDate();
    - var monthIndex = user_data.d_o_b.getMonth();
    - var year = user_data.d_o_b.getFullYear();
    - var formatted_date =  day + '/' + monthIndex + '/' + year;
            
    div.bt-content
        div.beef-content.beef-category-music
            div.beef-content-header
                div.beef-title
                    h2
                        | #{user_data.first_name} #{user_data.last_name}
                        
                        //span.beefometer.medium(class=letter_mapping[user_data.rating - 1] + "-beefs")
                div.beef-content-category
                    //span.category-name #{user_data.classification}
                //div.beef-content-contribute
                    a.btn.btn-primary(href="/add-beef") Contribute
            div.beef-content-container
                    div.col-md-12.beef-summary
                        div.beef-thumb
                            img(src=file_server_url_prefix + "/user_profiles/" + user_data.img_title, alt=user_data.img_title_fullsize).float-left
                            //div.beef-content-thumb-border
                        ul.actor-attributes
                            li.actor-attribute
                                span @#{user_data.username}
                            li.actor-attribute
                                span #{user_data.email_address}
                            li.actor-attribute
                                span #{formatted_date}
                            li.actor-attribute
                                span #{user_data.country}
                            li.actor-attribute
                                span Beef score: #{user_data.contribution_score}
                                
                    div.beef-content-contribute
                        a.btn.btn-primary(href="#")#logout_button Log out
                        //p.
                            #{user_data.description}

                        //+related-actors(user_data.related_actors.slice(0, 6), "c_fill,g_face,h_120,w_120", user_data._id)
        //div.row
            //+timeline-section()
        //+section('EXPLORE', 'GALLERY', '')
            +masonry-gallery-section(user_data.gallery_items, "actors")
