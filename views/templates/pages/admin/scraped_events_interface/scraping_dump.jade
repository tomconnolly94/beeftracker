extends ../../../layouts/layout.jade

append body
    div.bt-content
    
        h2#heading Scraped Events:
    
        //- var scraped_records = [ { title: "title1", description: "description1" }, { title: "title2", description: "description2" } ]
    
        div.panel-group#accordion
            - for(var i = 0; i < scraped_records.length; i++){
                div.panel.panel-default.row
                    form.form-horizontal.col-md-12
                        div.panel-heading.row                        
                            div.col-md-1
                                h4 #{i + 1}
                            textarea.panel-title.col-md-8
                                | #{scraped_records[i].title}
                            div.col-md-2
                                input.delete_button.form-control(type="button", value="Delete")
                                input.classification_indicator(type="text", class="form-control")
                            
                            div.col-md-1.row(style="padding:0px;")
                                input.col-md-6.multi_check_box(type="checkbox")
                                a.col-md-6#index_container(data-toggle="collapse", data-parent="#accordion", href="#collapse_"+i)
                                    span.fa.fa-sort-down
                        div.panel-collapse.collapse.in(id="collapse_" + i)
                            div.panel-body#scraping_dump_panel_body
                                div.row
                                    div.row.col-md-8
                                        div.col-md-6

                                            h4 Aggressor

                                            - for(var aggressor_index = 0; aggressor_index < scraped_records[i].relevant_actors.length; aggressor_index++){
                                                div.row.actor-sub-row
                                                    div.row.col-md-8
                                                        input.col-md-2(type="radio", value=scraped_records[i].relevant_actors[aggressor_index].db_id, name="aggressor_radio_" + i)
                                                        input.col-md-8(type="text", value=scraped_records[i].relevant_actors[aggressor_index].name)
                                                    div.col-md-4.text-center
                                                        i.glyphicon.glyphicon-ok
                                                        input(type="button", value="Scrape", style="padding:1px;width:100%;text-align:center;")
                                                        //-, ng-click="scrape_actor(actor.name, event._id)">
                                            - }

                                        div.col-md-6

                                            h4 Targets

                                            - for(var target_index = 0; target_index < scraped_records[i].relevant_actors.length; target_index++){
                                                div.row.actor-sub-row
                                                    div.row.col-md-8
                                                        input.col-md-2(type="checkbox", value=scraped_records[i].relevant_actors[target_index].db_id, name="target_radio_" + i, disabled=scraped_records[i].relevant_actors[target_index].db_id.length == 0)
                                                        input.col-md-8(type="text", value=scraped_records[i].relevant_actors[target_index].name) 
                                                    div.col-md-4.text-center
                                                        i.glyphicon.glyphicon-ok
                                                        input(type="button", value="Scrape", style="padding:1px;width:100%;text-align:center;")
                                                        //-, ng-click="scrape_actor(actor.name, event._id)">
                                            - }
                                            
                                    div.row.col-md-3
                                        div#img_wrapper
                                            img(src=scraped_records[i].img_title, style="height:100px;width:100%;")
                                            input(type="text", value=scraped_records[i].img_title, style="margin:0px;")

                                        div#video_wrapper
                                            iframe(scrolling="no", src=scraped_records[i].media_link.link, class="embed-responsive-item", allowfullscreen="true")
                                            input(type="text", value=scraped_records[i].media_link.link, style="margin:0px;")
                            
                                div.row
                                    div.col-md-6
                                        h5 Original Description
                                        textarea.text_box #{scraped_records[i].description}
                                    div.col-md-6
                                        h5 Paraphrased Description
                                        textarea.text_box #{scraped_records[i].description}
                                        
                                div.row
                                    div.col-md-6.row
                                        div.col-md-6
                                            input(type="text", value=scraped_records[i].event_date)
                                    div.col-md-6

                                        h4 Categories
                                        - for(var category_index = 0; category_index < categories.length; category_index++){
                                            div
                                                input.col-xs-2(type="checkbox", value=categories[category_index].cat_id)
                                                label #{categories[category_index].name}
                                        - }

                                div.row
                                    div.col-md-6.row
                                        h4 Data Source
                                        a(target="_blank", href=scraped_records[i].data_source) #{scraped_records[i].data_source}

                                    div.col-md-6.row

                                        h4 Highlights
                                        - for(var highlight_index = 0; highlight_index < scraped_records[i].highlights.length; highlight_index++){
                                            div
                                                input.col-xs-2(type="checkbox")
                                                input.col-xs-10(value=scraped_records[i].highlights[highlight_index] style="margin:0px;")
                                        - }
                                        
                                div.row
                                    divcol-md-2.offset
                                        input(type="submit" value="Submit")

            - }
            
    append scripts
        script(src"")